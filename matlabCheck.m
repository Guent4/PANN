n = 10;
m = 11;
a = 10;
b = 15;
eta = 0.5;

X = [0.140000 0.000000 27.000000 2.000000 35.000000 20.000000 20.000000 20.000000 0.000000 5.000000 0.000000 ; 0.540000 0.000000 22.000000 2.000000 60.000000 0.000000 0.000000 40.000000 0.000000 0.000000 0.000000 ; 0.160000 1.000000 22.000000 4.000000 19.000000 18.000000 19.000000 18.000000 14.000000 12.000000 1.000000 ; 0.610000 0.000000 23.000000 2.000000 30.000000 5.000000 15.000000 40.000000 5.000000 5.000000 1.000000 ; 0.210000 0.000000 24.000000 3.000000 30.000000 10.000000 20.000000 10.000000 10.000000 20.000000 1.000000 ; 0.250000 0.000000 25.000000 2.000000 50.000000 0.000000 30.000000 10.000000 0.000000 10.000000 1.000000 ; 0.340000 0.000000 30.000000 2.000000 35.000000 15.000000 25.000000 10.000000 5.000000 10.000000 0.000000 ; 0.500000 0.000000 27.000000 2.000000 33.330002 11.110000 11.110000 11.110000 11.110000 22.219999 0.000000 ; 0.280000 0.000000 28.000000 2.000000 50.000000 0.000000 25.000000 10.000000 0.000000 15.000000 1.000000 ; -0.360000 0.000000 24.000000 2.000000 100.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000];
Y = transpose([0.0 0.0 1.0 1.0 1.0 0.0 0.0 0.0 1.0 0.0]);

W0 = [1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 ; 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000];
W1 = [0.690001 0.505418 0.591491 0.554785 0.378429 0.257732 0.207382 0.626262 0.340127 0.843852 0.068778 0.409907 0.879994 0.319480 0.980568 ; 0.085005 0.907629 0.102509 0.921978 0.507551 0.872289 0.333260 0.692409 0.556946 0.361915 0.031994 0.858511 0.098984 0.877068 0.449259 ; 0.432193 0.606268 0.927838 0.664286 0.395365 0.438469 0.652125 0.928864 0.949143 0.307336 0.596483 0.783076 0.338030 0.805253 0.942197 ; 0.066473 0.857087 0.977218 0.889646 0.545276 0.864372 0.457773 0.800219 0.873706 0.821818 0.185726 0.086265 0.638156 0.233828 0.462722 ; 0.007420 0.635011 0.421251 0.953658 0.210120 0.970751 0.261253 0.857064 0.581333 0.707318 0.285975 0.318204 0.643952 0.858518 0.668890 ; 0.443150 0.055895 0.777453 0.594693 0.102082 0.299554 0.950719 0.665720 0.947724 0.879439 0.700866 0.375987 0.613482 0.863141 0.136171 ; 0.439685 0.274572 0.186810 0.506164 0.570510 0.672828 0.623627 0.061298 0.550456 0.563954 0.536581 0.104234 0.599533 0.276324 0.342357 ; 0.740289 0.963842 0.311473 0.376387 0.559672 0.472638 0.971370 0.634130 0.354448 0.373001 0.339981 0.002677 0.734097 0.590458 0.599771 ; 0.877106 0.306950 0.013229 0.998994 0.534592 0.830587 0.928720 0.002964 0.450898 0.726400 0.304525 0.936558 0.112419 0.325639 0.121612 ; 0.916852 0.880928 0.898193 0.252825 0.528782 0.958946 0.243022 0.406622 0.964543 0.915079 0.710338 0.099036 0.691387 0.862630 0.248644];
W2 = [1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000 ; 1.000000];


S1 = X*W0;
Z1 = 1./(1.+exp(-S1));

S2 = Z1*W1;
Z2 = 1./(1.+exp(-S2));

OUT = Z2*W2;

DOUT = OUT - Y;

deltaW2 = DOUT*transpose(W2);
ZSigmaApplied2 = Z2.*(1-Z2);
D2 = ZSigmaApplied2 .* deltaW2;

deltaW1 = D2*transpose(W1);
ZSigmaApplied1 = Z1.*(1-Z1);
D1 = ZSigmaApplied1 .* deltaW1;

WUpdate12 = -eta * transpose(Z1) * D2;
W1After = W1 + WUpdate12

